<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8"/>
    <title>Daily Business Report - NSK Technology</title>
    <style>
        /* PDF Optimized Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica', 'Arial', sans-serif;
            line-height: 1.4;
            color: #000000;
            background-color: #ffffff;
            padding: 15px;
            font-size: 11pt;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Avoid page breaks inside important sections */
        .page-break-avoid {
            page-break-inside: avoid;
        }

        /* Header */
        .report-header {
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 15px;
            margin-bottom: 20px;
            page-break-after: avoid;
        }

        .company-name {
            color: #2c3e50;
            font-size: 22pt;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .company-subtitle {
            color: #7f8c8d;
            font-size: 12pt;
            margin-bottom: 10px;
        }

        .report-info {
            background-color: #f8f9fa;
            padding: 10px;
            border-left: 4px solid #e74c3c;
            margin-top: 10px;
        }

        .report-date {
            font-weight: bold;
            color: #2c3e50;
        }

        /* Tables */
        .summary-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            page-break-inside: avoid;
        }

        .summary-table th {
            background-color: #2c3e50;
            color: white;
            font-weight: bold;
            padding: 8px 10px;
            border: 1px solid #34495e;
            font-size: 10pt;
            text-align: left;
        }

        .summary-table td {
            padding: 6px 10px;
            border: 1px solid #ddd;
            font-size: 10pt;
            vertical-align: top;
        }

        .summary-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .summary-table .total-row {
            background-color: #ecf0f1 !important;
            font-weight: bold;
            border-top: 2px solid #2c3e50;
        }

        .summary-table .total-row td {
            padding: 8px 10px;
        }

        /* Two-column layout for PDF */
        .two-column-layout {
            display: flex;
            gap: 20px;
            margin: 20px 0;
            page-break-inside: avoid;
        }

        .column {
            flex: 1;
            min-width: 0; /* Prevents flex item overflow */
        }

        /* Section Headers */
        .section-header {
            background-color: #3498db;
            color: white;
            padding: 8px 15px;
            margin: 15px 0 10px 0;
            font-weight: bold;
            border-radius: 4px;
            page-break-after: avoid;
        }

        .section-header.recharge {
            background-color: #27ae60;
        }

        .section-header.financial {
            background-color: #e74c3c;
        }

        /* Recharge Grid */
        .recharge-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        .recharge-item {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
            border-radius: 4px;
            background-color: #f8f9fa;
        }

        .recharge-operator {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .recharge-amount {
            font-size: 14pt;
            font-weight: bold;
            color: #e74c3c;
        }

        /* Financial Summary Box */
        .financial-summary {
            border: 2px solid #2c3e50;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            background-color: #f8f9fa;
            page-break-inside: avoid;
        }

        .financial-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #ddd;
        }

        .financial-row:last-child {
            border-bottom: none;
            border-top: 2px solid #2c3e50;
            font-weight: bold;
            background-color: #ecf0f1;
            margin-top: 5px;
            padding: 12px;
        }

        .financial-label {
            font-weight: bold;
            color: #2c3e50;
        }

        .financial-value {
            font-weight: bold;
            font-size: 12pt;
        }

        .financial-value.sales {
            color: #27ae60;
        }

        .financial-value.expenses {
            color: #e74c3c;
        }

        .financial-value.profit {
            color: #2c3e50;
            font-size: 14pt;
        }

        /* Footer */
        .report-footer {
            margin-top: 30px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #7f8c8d;
            font-size: 9pt;
            page-break-before: always;
        }

        .footer-note {
            font-style: italic;
            margin-top: 5px;
        }

        /* Utility Classes */
        .text-right {
            text-align: right;
        }

        .text-center {
            text-align: center;
        }

        .text-bold {
            font-weight: bold;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        .mt-20 {
            margin-top: 20px;
        }

        /* Print Specific Styles */
        @media print {
            body {
                padding: 0;
                max-width: 100%;
                font-size: 10pt;
            }

            .report-header {
                padding-top: 10px;
            }

            .summary-table th,
            .summary-table td {
                padding: 5px 8px;
                font-size: 9pt;
            }

            .two-column-layout {
                gap: 15px;
            }

            /* Force page breaks */
            .page-break-before {
                page-break-before: always;
            }

            .page-break-after {
                page-break-after: always;
            }

            /* Remove background colors for better print */
            .summary-table tr:nth-child(even),
            .recharge-item,
            .financial-summary {
                background-color: #ffffff !important;
            }

            .summary-table th {
                background-color: #2c3e50 !important;
                color: white !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }

            .section-header {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
        }

        /* Page size for A4 */
        @page {
            size: A4 portrait;
            margin: 1.5cm;
        }

        @page :first {
            margin-top: 2cm;
        }
    </style>
</head>

<body>
<!-- Report Header -->
<div class="report-header page-break-avoid">
    <div class="company-name">NSK TECHNOLOGY</div>
    <div class="company-subtitle">Mahessha Mobile Showroom, Polpithigama</div>

    <div class="report-info">
        <div class="report-date">
            DAILY BUSINESS REPORT:
            <span th:text="${#dates.format(reportDate, 'dd MMMM yyyy')}">01 June 2024</span>
        </div>
        <div>Generated by: Nipun Sandeepa</div>
        <div>Report Time: <span th:text="${#dates.format(reportDate, 'hh:mm a')}">12:00 PM</span></div>
    </div>
</div>

<!-- Two Column Layout for Sales and Expenses -->
<div class="two-column-layout page-break-avoid">
    <!-- Sales Column -->
    <div class="column">
        <div class="section-header">SALES SUMMARY</div>
        <table class="summary-table">
            <thead>
            <tr>
                <th>#</th>
                <th>Customer</th>
                <th>Product</th>
                <th>Qty</th>
                <th class="text-right">Amount</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="order, iterStat : ${orders}">
                <td th:text="${iterStat.count}">1</td>
                <td th:text="${order.cusName}">John Doe</td>
                <td th:text="${order.productName}">Product Name</td>
                <td class="text-center" th:text="${order.qty}">1</td>
                <td class="text-right">Rs. <span th:text="${order.price}">1,000.00</span></td>
            </tr>
            </tbody>
            <tfoot>
            <tr class="total-row">
                <td colspan="4" class="text-bold">TOTAL SALES</td>
                <td class="text-right text-bold">
                    Rs. <span th:text="${totalSales}">0.00</span>
                </td>
            </tr>
            </tfoot>
        </table>
    </div>

    <!-- Expenses Column -->
    <div class="column">
        <div class="section-header">EXPENSES SUMMARY</div>
        <table class="summary-table">
            <thead>
            <tr>
                <th>#</th>
                <th>Description</th>
                <th class="text-right">Amount</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="expensive, iterStat : ${expensive}">
                <td th:text="${iterStat.count}">1</td>
                <td th:text="${expensive.getDescription}">Expense Description</td>
                <td class="text-right">Rs. <span th:text="${expensive.getPrice}">500.00</span></td>
            </tr>
            </tbody>
            <tfoot>
            <tr class="total-row">
                <td colspan="2" class="text-bold">TOTAL EXPENSES</td>
                <td class="text-right text-bold">
                    Rs. <span th:text="${totalExpenses}">0.00</span>
                </td>
            </tr>
            </tfoot>
        </table>
    </div>
</div>

<!-- Mobile Recharge Summary -->
<div class="section-header recharge">MOBILE RECHARGE SUMMARY</div>
<div class="recharge-grid page-break-avoid">
    <div class="recharge-item">
        <div class="recharge-operator">DIALOG</div>
        <div class="recharge-amount">Rs. 1,400</div>
    </div>
    <div class="recharge-item">
        <div class="recharge-operator">MOBITEL</div>
        <div class="recharge-amount">Rs. 1,400</div>
    </div>
    <div class="recharge-item">
        <div class="recharge-operator">HUTCH</div>
        <div class="recharge-amount">Rs. 1,400</div>
    </div>
    <div class="recharge-item">
        <div class="recharge-operator">AIRTEL</div>
        <div class="recharge-amount">Rs. 1,400</div>
    </div>
</div>

<!-- Financial Summary -->
<div class="section-header financial mt-20">FINANCIAL OVERVIEW</div>
<div class="financial-summary page-break-avoid">
    <div class="financial-row">
        <div class="financial-label">Total Sales Revenue</div>
        <div class="financial-value sales">Rs. <span th:text="${totalSales}">0.00</span></div>
    </div>

    <div class="financial-row">
        <div class="financial-label">Total Expenses</div>
        <div class="financial-value expenses">Rs. <span th:text="${totalExpenses}">0.00</span></div>
    </div>

    <div class="financial-row">
        <div class="financial-label">Mobile Recharge Revenue</div>
        <div class="financial-value">Rs. 5,600</div>
    </div>

    <div class="financial-row">
        <div class="financial-label">NET PROFIT</div>
        <div class="financial-value profit">Rs. 12,000.00</div>
    </div>
</div>

<!-- Summary Notes -->
<div class="page-break-avoid" style="margin-top: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 4px;">
    <div class="text-bold mb-10">Summary Notes:</div>
    <ul style="padding-left: 20px; font-size: 10pt;">
        <li>Report generated on <span th:text="${#dates.format(reportDate, 'dd MMMM yyyy')}">01 June 2024</span></li>
        <li>All amounts are in Sri Lankan Rupees (Rs.)</li>
        <li>This report includes only completed transactions</li>
        <li>Mobile recharge amounts are estimates based on daily averages</li>
    </ul>
</div>

<!-- Report Footer -->
<div class="report-footer">
    <div class="mb-10">
        <div class="text-bold">NSK Technology - Point of Sale System</div>
        <div>Mahessha Mobile Showroom, Polpithigama</div>
        <div>Contact: +94 XX XXX XXXX | Email: info@nsktechnology.lk</div>
    </div>

    <div class="footer-note">
        This is an automatically generated report. No signature required.
    </div>

    <div style="margin-top: 10px; font-size: 8pt; color: #95a5a6;">
        Document ID: REP-<span th:text="${#dates.format(reportDate, 'yyyyMMdd')}">20240601</span> |
        Page 1 of 1 | Generated at: <span th:text="${#dates.format(reportDate, 'HH:mm')}">12:00</span>
    </div>
</div>
</body>

</html>